---
title: Verify
chapter: Chapter 15
slug: chapter-15
editor:
  language: python
  startingCode: |
    import smartpy as sp
    class Plant(sp.Contract) {
        def __init__(self, name):
            self.init(stat = sp.record(
            name = sp.string(name),
            attack = sp.int(70),
            defence = sp.int(30),
            health = sp.int(100),
            growth_rate = sp.int(10),
            is_alive = False,
            power_move = sp.pair("Bullet Seed", 95))
    }

    @sp.entry_point
    def attack(self, params):
        self.data.player[sp.sender].attack += params.attack

    @sp.entry_point
    def defence(self, params):
        self.data.player[sp.sender].defence += params.defence

    @sp.entry_point
    def assignCharacter(self, params):
        sp.if ~ self.data.player.contains(sp.sender):
            self.data.player[sp.sender] = self.data.stat
            self.data.player[sp.sender].name = params.name
        sp.else:
            pass

  answer: |  
    import smartpy as sp
    class Plant(sp.Contract) {
        def __init__(self, name):
            self.init(stat = sp.record(
            name = sp.string(name),
            attack = sp.int(70),
            defence = sp.int(30),
            health = sp.int(100),
            growth_rate = sp.int(10),
            is_alive = False,
            power_move = sp.pair("Bullet Seed", 95))
    }

    @sp.entry_point
    def attack(self, params):
        self.data.player[sp.sender].attack += params.attack

    @sp.entry_point
    def defence(self, params):
        self.data.player[sp.sender].defence += params.defence

    @sp.entry_point
    def assignCharacter(self, params):
        sp.verify(~ self.data.player.contains(sp.sender), "User already have a character")
        self.data.player[sp.sender] = self.data.stat
        self.data.player[sp.sender].name = params.name
    
    @sp.entry_point
    def endGame(self, params):
        sp.verify(self.data.player[sp.sender].health == 0, "You are dead")
        self.data.player[sp.sender].is_alive = False

---

Assertion statements are also a kind of condition checking statements but they are very useful in smart contracts because unlike if/else statements, they revert back the transaction and hence saving the gas/transaction fees as well.

Assertion command can be as follows in SmartPy: 
```python
sp.verify(condition, message="")
# message is an optional parameter
``` 

We can use verify command at the beginning of any entry_point to check the required conditions. 

In our example previously, if/else commands was used. That is not an efficient way of doing things as you may have noticed, if the condition is not met and the code goes to else statement, it has nothing to execute and the gas/transaction fee will be wasted. 

To overcome this, you will be using `sp.verify()` statement.

## Put it to code

1) Remove if/else statment from the previous code.

2) Include `sp.verify()` statement to check the condition instead.

```python
@sp.entry_point
def assignCharacter(self, params):
    sp.verify(~ self.data.player.contains(sp.sender), "User already have a character")
    self.data.player[sp.sender] = self.data.Character
    self.data.player[sp.sender].name = params.name
```

3) Create a function `endGame` that will verify the health of the player. If health of the player is 0, change `is_alive` to `False`.

```python
@sp.entry_point
def endGame(self, params):
    sp.verify(self.data.player[sp.sender].health == 0, "You are dead")
    self.data.player[sp.sender].is_alive = False
```